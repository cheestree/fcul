### ARIES algorithm

Uses a log sequence number to identify log records and stores LSNs in database pages to identify which operations
ahve been applied to a database page.  
Supports physiological redo opertaions, the affected page is physically identified but can be logical within the page.  
Uses dirty page table to minimize redos during recovery.  
Uses a fuzzy-checkpointing.

#### Phases

Analysis - Scans the log forward from the most recent checkpoint to identify all transactiosn that were active and all
dirty pages in the buffer pool att he time of the crash.  
Redo - Redoes all updates to dirty pages in the buffer pool as needed, to ensure that all logged updates are in fact carrioud and writtten to disk.  
Undo - Transaction changes are undone based on the last log record for each transaction, undoes the changes in reverse order.

### Indexes

#### Types

Ordered - based on ordering values.  
Hash - based on a uniform distribution across a range of buckets. Can be determined by a function, called a hash function.  

### How to determine

Access types - supported efficiently.
Access time - time it takes to find a particular item or set of items.  
Insertion time - time it takes to insert a new data item. Includes the time it takes to find the correct place to insert it, as well as the time it takes to update the index structure.  
Deletion time - same time as insertion but for updating the index structure.  
Space overhead - additional space occupied by an index structure.

Search key - the attribute or set of used t o look up records in a file.  
Several indexes, several search keys.

#### Ordered indexes

Stores the value of the search key in sorted order and associates wit each search key the records that contain it.  
Clustering the index or primary index.

Index entry - a search-key value and pointers to one or more records with that value as their search-key value.

Two types:

- Dense index - 1 key pointer by value.
- Sparse index - 1 key pointer per interval.

Simple index - on a single attribute.  
Composite index - multiple attributes.

Clustered indexes:

Non-clustered indexes:

#### Dense Index

If the search-key value doesn't appear in the index, the system inserts an index entry with the search-key value in the index at the app. position.  

Otherwise, if the index entry stores pointers to all records with the same search-key value, the system deletes the pointer to the deleted record
from the index entry.

Otherwise, the index entry stores a pointer to only the first record with the search-key value. In this case, if the deleted record was the first record with the search-key value,
the system updates the index entry to point to the next record.

#### B+ Tree Index

Most widely used.  
Multilevel index.  
**Balanced tree** in which every path from the root of the tree to a leaf of the tree is of the same length.

Balanced structure
Sorted Keys
Node Structure
Data Clustering
Sequential Access
Support for Duplicates
Split and Merge Operations
Disk I/O Efficiency
Non-leaf Nodes
Range Queries

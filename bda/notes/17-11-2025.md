# Evils of Redundancy

Root of several problems associated with relational schemas.  
Main refinement technique: decomposition.

Workloads decide indexes.  

## Normalization

Involves organizing and structuring the data in a relational database to reduce redundancy and improve data integrity.  
The goal is to eliminate data anomalies such as insertion, update and deletion anomalies, by ensuring that data is stored efficiently and logically.

Typically involves breaking down large tables into smaller tables with relationships.  
Achieved by applying a set of rules called normal forms.  
Most commonly used are the 1NF, 2NF, 3NF and Boyce-Codd Normal Form (BCNF).

### 1NF

Remove repeated values or group values.
All attributes mut be atomic values.

### 2NF

Is in the 1NF.
All atributes that don't belong to any candidate key depend entirely on the primary key, not only part of it.

### 3NF

Is in the 2NF.
Functional dependencies DO NOT exist between non-key attributes.

Functional dependency: relationship between two sets of attributes in a table. If a certain set of attributes uniquely determines another set, it's expressed as a functional dependency.

If C depends on A and B and one of them isn't key, it should be split into tables where the attribute fully depends on the key.

### Boyce-Codd Normal Form (BCNF)

Is in the 3NF.

## Denormalization

To speed up a query, we might add an extra field that makes the normalization not 3NF anymore.  
Can choose to modify it if the query performance is worth it.

## Views

Check if indexes need rebuilding or statistics are too old.  
Sometimes indexes aren't being used due to null values, arithmetic or string epxressions, OR conditions or lack of evaluation features like index-only strategies, certain join methods or poor size estimation.

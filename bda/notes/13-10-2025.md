### Transaction

#### Concept

Unit of program execution that accesses and possibly updates items.  
Delimited by begin and end transaction.  
MUST follow ACID properties.  

#### System

Transaction manager - creates, follows and terminates transactions; calls resoruce managers; orchestrates clients, servers and resources needed.

Lock manager - manages concurrent accesses and lock requests.

Recovery manager - records transactions made in a log; returns database to a coherent state after a crash; needs to survive hardware and software problems.

Transaction and lock managers guarantee Consistency and Isolation, while Recovery manager guarantees Atomicity and Durability.

The biggest challenge is Race Conditions/Data corruption

### Concurrency

#### Lock Protocols

Shared - can only read.  
Exclusive - can read and write.  

#### 2PL Protocol

Growing phase - acquire locks, can't release.  
Shrinking phase - release locks, can't acquire new ones.  

A transaction can only be acquiring or only be releasing.
